<!DOCTYPE html>
<html lang="en">

<head>
  <title>Sign Up | By Code Info</title>
  <link rel="stylesheet" href="register.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet" />
</head>

<body>
  <div class="signup-box">
    <h1>Sign Up</h1>
    <h4>It's free and only takes a minute</h4>
    <form>
      <label>ROLL NO.</label>
      <input type="text" placeholder="" class="rol">
      <label>OFFICIAL EMAIL</label>
      <input type="email" placeholder="" class="em">
      <label>Password</label>
      <input type="password" placeholder="" class="pas">
      <label>Confirm Password</label>
      <input type="password" placeholder="" />
      <div class="button">
        <button type="button" class="btn">
          <a href="#">Submit</a>
          <closeform></closeform>
    </form>
  </div>
  </div>
  <p class="para-2">
    Already have an account? <a href="login.html">Login here</a>
  </p>
  <script type="module">
    let rol = document.querySelector(".rol")
    let btn = document.querySelector(".btn");
    let nm = document.querySelector(".em");
    let sl = document.querySelector(".pas");
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBSW_SILWdE_0ziAA47el7YEILFWjtns1o",
      authDomain: "ru-medic.firebaseapp.com",
      databaseURL: "https://ru-medic-default-rtdb.firebaseio.com",
      projectId: "ru-medic",
      storageBucket: "ru-medic.appspot.com",
      messagingSenderId: "749329210449",
      appId: "1:749329210449:web:53a283fbd2c945cc01ec70",
      measurementId: "G-PTXPJK4NDQ"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    import { getDatabase, ref, set, child, update, remove }
      from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";

    const db = getDatabase();

    function InsertData() {
      set(ref(db, "Users/"+`${rol.value}`), {
         User: nm.value,
         password: sl.value,
       }).then(() => {
         alert("successfully registered");
         window.location.href="index.html";
       })
         .catch((error) => {
           alert("uncessfull");
         });
    }
    // set(ref(db, `Users/${rol.innerText}`), {
    //     User: nm.innerText,
    //     password: sl.innerText,
    //   }).then(() => {
    //     alert("done successfully");
    //   })
    //     .catch((error) => {
    //       alert("uncessfull");
    //     });
    btn.addEventListener("click", InsertData);
  </script>
</body>

</html>